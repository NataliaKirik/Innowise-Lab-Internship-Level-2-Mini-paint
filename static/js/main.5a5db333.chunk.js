(this["webpackJsonpmini-paint"]=this["webpackJsonpmini-paint"]||[]).push([[0],{120:function(e,t,r){e.exports={inputSelect:"gallery_inputSelect__2PVPx",imageWrapper:"gallery_imageWrapper__2EejX"}},133:function(e,t,r){e.exports={loaderContainer:"preloader_loaderContainer__1L9r3"}},158:function(e,t,r){},171:function(e,t,r){"use strict";r.r(t);var a,n,c,s=r(2),i=r.n(s),o=r(57),u=r.n(o),l=(r(158),r(61)),b="/login",j="/register",d="/gallery",O="/paint",p=r(73),h=r.n(p),m=r(35),f=r(221);!function(e){e.SET_ERROR="SET_ERROR",e.SET_STATUS="SET_STATUS"}(a||(a={})),function(e){e.REGISTER="REGISTER",e.LOGIN="LOGIN",e.LOG_OUT="  LOG_OUT",e.SET_UID="SET_UID",e.SET_USER_DATA="SET_USER_DATA"}(n||(n={})),function(e){e.SET_USERS_EMAIL=" SET_USERS_EMAIL",e.SET_SELECTED_USER=" SET_SELECTED_USER",e.SET_IMAGES=" SET_IMAGES",e.GET_USER_EMAILS="GET_USER_EMAILS",e.SAVE_ART=" SAVE_ART",e.GET_ART="GET_ART"}(c||(c={}));var x=r(7),v=function(){var e=Object(m.c)((function(e){return e.auth.isAuth})),t=Object(m.b)();return Object(x.jsx)(x.Fragment,{children:e?Object(x.jsx)(f.a,{variant:"contained",type:"submit",onClick:function(){t({type:n.LOG_OUT})},children:"Log out"}):null})};var _=function(){var e=Object(m.c)((function(e){return e.auth.isAuth}));return Object(x.jsxs)("div",{className:h.a.header,children:[Object(x.jsx)("div",{className:h.a.menu,children:Object(x.jsxs)("ul",{children:[e||Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("li",{children:Object(x.jsx)(l.b,{to:b,activeClassName:h.a.active,children:"Login"})}),Object(x.jsx)("li",{children:Object(x.jsx)(l.b,{to:j,activeClassName:h.a.active,children:"Register"})})]}),Object(x.jsx)("li",{children:Object(x.jsx)(l.b,{to:d,activeClassName:h.a.active,children:"Gallery"})}),Object(x.jsx)("li",{children:Object(x.jsx)(l.b,{to:O,activeClassName:h.a.active,children:"Paint"})})]})}),Object(x.jsx)("div",{className:h.a.logOutBtn,children:Object(x.jsx)(v,{})})]})},g=r(17),E=r(219),S=r(220),w=r(132),T=r.n(w);function R(){var e=s.useState(!1),t=Object(g.a)(e,2),r=t[0],a=t[1],n=s.useState(""),c=Object(g.a)(n,2),i=c[0],o=c[1],u=Object(m.c)((function(e){return e.app.error}));Object(s.useEffect)((function(){u&&(o(u),a(!0))}),[u]);var l=function(e,t){"clickaway"!==t&&(a(!1),o(""))},b=Object(x.jsx)(s.Fragment,{children:Object(x.jsx)(S.a,{size:"small","aria-label":"close",color:"secondary",onClick:l,children:Object(x.jsx)(T.a,{fontSize:"large"})})});return Object(x.jsx)("div",{children:Object(x.jsx)(E.a,{open:r,onClose:l,message:i,action:b,autoHideDuration:6e3})})}var y=r(133),k=r.n(y),C=r.p+"static/media/loader.f688384e.gif",A=function(){return"loading"===Object(m.c)((function(e){return e.app.status}))?Object(x.jsx)("div",{className:k.a.loaderContainer,children:Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:C,alt:"preloader"})})}):Object(x.jsx)(x.Fragment,{})},I=r(39),N=r(38),U=r(87),L=r(55),M=r.n(L),D=r(217),G=r(107),F=function(e){var t=Object(U.b)({defaultValues:{email:"",password:""},mode:"onChange"}),r=t.watch,a=t.register,n=t.handleSubmit,c=t.formState.errors;return Object(x.jsx)("div",{className:M.a.formContainer,children:Object(x.jsxs)("form",{onSubmit:n(e.onSubmit),children:[Object(x.jsx)("div",{className:M.a.text,children:"Email"}),Object(x.jsx)(D.a,Object(N.a)(Object(N.a)({},a("email",{required:{value:!0,message:"Email is required"},pattern:{value:/^[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})$/,message:"Invalid email"}})),{},{color:"primary",label:"email",variant:"outlined",className:M.a.textField,autoComplete:"off"})),Object(x.jsx)(G.a,{errors:c,name:"email",render:function(e){var t=e.message;return Object(x.jsx)("div",{className:M.a.error,children:t})}}),Object(x.jsx)("div",{className:M.a.text,children:"Password"}),Object(x.jsx)(D.a,Object(N.a)(Object(N.a)({},a("password",{required:{value:!0,message:"Password is required"},minLength:{value:6,message:"Password should be at least 6 characters "},maxLength:{value:12,message:"Password should be between 6 and 12 characters"}})),{},{color:"primary",label:"password",variant:"outlined",className:M.a.textField,type:"password"})),Object(x.jsx)(G.a,{errors:c,name:"password",render:function(e){var t=e.message;return Object(x.jsx)("div",{className:M.a.error,children:t})}}),e.showBlockConfirmPassword&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:M.a.text,children:"Confirm password"}),Object(x.jsx)(D.a,Object(N.a)(Object(N.a)({},a("password_repeat",{validate:function(e){return e===r("password")||"Passwords don't match."}})),{},{color:"primary",label:"password",variant:"outlined",className:M.a.textField,type:"password"})),Object(x.jsx)(G.a,{errors:c,name:"password_repeat",render:function(e){var t=e.message;return Object(x.jsx)("div",{className:M.a.error,children:t})}})]}),Object(x.jsx)(f.a,{variant:"contained",type:"submit",children:e.buttonName}),e.showBlockToRegistration&&Object(x.jsxs)("div",{className:M.a.blockToRegistration,children:[Object(x.jsx)("div",{className:M.a.regText,children:"Don't have an account?"}),Object(x.jsx)("div",{children:Object(x.jsx)(l.b,{to:j,children:"Registration"})})]})]})})};var P=r(23),B=r(82),W=r.n(B),z=r(134),Z=r.n(z),q=r(135),V=r.n(q),X=r(136),Y=r.n(X);function H(e,t,r,a){return{width:e.pageX-t.offsetLeft-r,height:e.pageY-t.offsetTop-a}}function J(e,t,r){var a=t.pageX-r.offsetLeft,n=t.pageY-r.offsetTop;e.lineTo(a,n),e.stroke()}function K(e,t,r){e.clearRect(0,0,t.current.width,t.current.height),r&&e.putImageData(r,0,0),e.beginPath()}var Q=function(e){var t=Object(s.useRef)(null),r=Object(s.useState)(null),a=Object(g.a)(r,2),n=a[0],i=a[1],o=Object(s.useState)(0),u=Object(g.a)(o,2),l=u[0],b=u[1],j=Object(s.useState)(),d=Object(g.a)(j,2),O=d[0],p=d[1],h=Object(m.c)((function(e){return e.auth.userEmail})),f=Object(m.c)((function(e){return e.auth.uid})),v=Object(s.useState)(!1),_=Object(g.a)(v,2),E=_[0],w=_[1],T=Object(s.useState)(),R=Object(g.a)(T,2),y=R[0],k=R[1],C=Object(m.b)(),A=Object(s.useState)([]),I=Object(g.a)(A,2),N=I[0],U=I[1],L=[];Object(s.useEffect)((function(){t.current&&i(t.current.getContext("2d"))}),[]);return Object(x.jsxs)("div",{className:W.a.mainWrapper,children:[Object(x.jsx)("canvas",{ref:t,onMouseDown:function(r){var a=r.target;n&&(n.beginPath(),b(r.pageX-a.offsetLeft),p(r.pageY-a.offsetTop),w(!0),k(n.getImageData(0,0,t.current.width,t.current.height)),"clear"===e.activeTool&&n.clearRect(0,0,t.current.width,t.current.height)),t.current&&U([].concat(Object(P.a)(N),[t.current.toDataURL()]))},onMouseMove:function(r){var a=r.target;if(E&&n&&l&&O&&t.current)switch(n.strokeStyle=e.outlineColor,n.fillStyle=e.fillColor,n.lineWidth=e.lineWidth,e.activeTool){case"rect":var c=H(r,a,l,O);K(n,t,y),n.fillRect(l,O,c.width,c.height),n.strokeRect(l,O,c.width,c.height);break;case"circle":var s=H(r,a,l,O);K(n,t,y);var i=Math.sqrt(Math.pow(s.width,2)+Math.pow(s.height,2));n.arc(l,O,i,0,2*Math.PI,!1),n.fill(),n.stroke();break;case"line":K(n,t,y),n.moveTo(l,O),J(n,r,a);break;case"brush":J(n,r,a);break;case"eraser":n.strokeStyle="white",J(n,r,a)}},onMouseUp:function(){w(!1)},width:"950px",height:"570px"}),Object(x.jsxs)("div",{className:W.a.buttonsContainer,children:[Object(x.jsx)(S.a,{color:"primary",className:W.a.button,onClick:function(){if(N.length>0){var e=N.pop();L.push(t.current.toDataURL());var r=new Image;"string"===typeof e&&(r.src=e),r.onload=function(){n.clearRect(0,0,t.current.width,t.current.height),n.drawImage(r,0,0,t.current.width,t.current.height)}}else n.clearRect(0,0,t.current.width,t.current.height)},children:Object(x.jsx)(Z.a,{fontSize:"large"})}),Object(x.jsx)(S.a,{color:"primary",className:W.a.button,onClick:function(){if(L.length>0){var e=L.pop();N.push(t.current.toDataURL());var r=new Image;"string"===typeof e&&(r.src=e),r.onload=function(){n.clearRect(0,0,t.current.width,t.current.height),n.drawImage(r,0,0,t.current.width,t.current.height)}}},children:Object(x.jsx)(V.a,{fontSize:"large"})}),Object(x.jsx)(S.a,{color:"primary",className:W.a.button,onClick:function(){C({type:c.SAVE_ART,payload:{userEmail:h,userId:f,canvasDataUrl:t.current.toDataURL()}})},children:Object(x.jsx)(Y.a,{fontSize:"large"})})]})]})},$=r(63),ee=r.n($),te=r(216),re=r(120),ae=r.n(re),ne=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.gallery.usersEmail})),r=t.filter((function(e,r){return t.indexOf(e)==r})).map((function(e){return{label:e,id:e}})),a=Object(m.c)((function(e){return e.gallery.images})),n=Object(m.c)((function(e){return e.gallery.selectedUserEmail}));return Object(s.useEffect)((function(){e({type:c.GET_USER_EMAILS})}),[]),Object(s.useEffect)((function(){e({type:c.GET_ART,payload:{selectedUserEmail:n}})}),[n]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(te.a,{disablePortal:!0,options:r,renderInput:function(e){return Object(x.jsx)(D.a,Object(N.a)(Object(N.a)({},e),{},{label:"Select user"}))},onInputChange:function(t,r){e({type:c.SET_SELECTED_USER,value:r})},value:{label:n,id:n},className:ae.a.inputSelect}),Object(x.jsx)("div",{className:ae.a.imageWrapper,children:a.map((function(e){var t=e.image,r=e.id;return Object(x.jsx)("img",{src:t,alt:r},r)}))})]})},ce=function(){var e=Object(m.c)((function(e){return e.auth.isAuth}));return Object(x.jsx)(x.Fragment,{children:e?Object(x.jsxs)(I.d,{children:[ie.map((function(e){var t=e.path,r=e.component;return Object(x.jsx)(I.b,{exact:!0,path:t,component:r},t)})),Object(x.jsx)(I.a,{to:O}),";"]}):Object(x.jsxs)(I.d,{children:[se.map((function(e){var t=e.path,r=e.component;return Object(x.jsx)(I.b,{exact:!0,path:t,component:r},t)})),Object(x.jsx)(I.a,{to:b})]})})},se=[{path:b,component:function(){var e=Object(m.b)();return Object(x.jsx)(F,{onSubmit:function(t){e({type:n.LOGIN,payload:{email:t.email,password:t.password}})},showBlockConfirmPassword:!1,showBlockToRegistration:!0,buttonName:"Log in"})}},{path:j,component:function(){var e=Object(m.b)();return Object(x.jsx)(F,{onSubmit:function(t){e({type:n.REGISTER,payload:{email:t.email,password:t.password_repeat}})},showBlockConfirmPassword:!0,showBlockToRegistration:!1,buttonName:"Registration"})}},{path:d,component:ne}],ie=[{path:O,component:function(){var e=Object(s.useState)("brush"),t=Object(g.a)(e,2),r=t[0],a=t[1],n=Object(s.useState)(1),c=Object(g.a)(n,2),i=c[0],o=c[1],u=Object(s.useState)("#000000"),l=Object(g.a)(u,2),b=l[0],j=l[1],d=Object(s.useState)("#FFFFFF"),O=Object(g.a)(d,2),p=O[0],h=O[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:ee.a.toolbar,children:[["brush","rect","circle","line","eraser","clear"].map((function(e){return Object(x.jsx)("button",{className:"".concat(ee.a[e],"  ").concat(r===e?ee.a.activeBtn:""),onClick:function(){return a(e)}},e)})),Object(x.jsxs)("div",{className:ee.a.colorContainer,children:[Object(x.jsx)("div",{className:ee.a.text,children:"Line color"}),Object(x.jsx)("input",{type:"color",value:b,onChange:function(e){return j(e.target.value)}})]}),Object(x.jsxs)("div",{className:ee.a.colorContainer,children:[Object(x.jsx)("div",{className:ee.a.text,children:"Fill color"}),Object(x.jsx)("input",{type:"color",value:p,onChange:function(e){return h(e.target.value)}})]}),Object(x.jsxs)("div",{className:ee.a.lineWidthContainer,children:[Object(x.jsx)("div",{className:ee.a.text,children:"Line width"}),Object(x.jsx)("input",{type:"number",value:i,min:1,max:50,onChange:function(e){return o(+e.target.value)}})]})]}),Object(x.jsx)(Q,{activeTool:r,lineWidth:i,outlineColor:b,fillColor:p})]})}},{path:d,component:ne}];var oe=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(l.a,{children:[Object(x.jsx)(_,{}),Object(x.jsx)(ce,{}),Object(x.jsx)(R,{}),Object(x.jsx)(A,{})]})})},ue=r(41),le=r(139),be={error:null,status:"idle"};var je={usersEmail:[],selectedUserEmail:"",images:[]};var de={userEmail:null,uid:null,isAuth:!1};var Oe=Object(ue.combineReducers)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET_ERROR:return Object(N.a)(Object(N.a)({},e),{},{error:t.errorMessage});case a.SET_STATUS:return Object(N.a)(Object(N.a)({},e),{},{status:t.payload})}return e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;return t.type===n.SET_USER_DATA?Object(N.a)(Object(N.a)({},e),{},{userEmail:t.payload.email,uid:t.payload.uid,isAuth:t.payload.isAuth}):e},gallery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.SET_USERS_EMAIL:return Object(N.a)(Object(N.a)({},e),{},{usersEmail:t.userEmails});case c.SET_SELECTED_USER:return Object(N.a)(Object(N.a)({},e),{},{selectedUserEmail:t.value});case c.SET_IMAGES:return Object(N.a)(Object(N.a)({},e),{},{images:t.arts})}return e}}),pe=r(0),he=r.n(pe),me=r(31),fe=r(4),xe=r(138),ve=r(81),_e=r(48);xe.a.initializeApp({apiKey:"AIzaSyDIkpAgifybPT3dg4VNsqnbHStgnrxegmI",authDomain:"mini-paint-project.firebaseapp.com",projectId:"mini-paint-project",storageBucket:"mini-paint-project.appspot.com",messagingSenderId:"707264285460",appId:"1:707264285460:web:27f2d6bf18848c11f01001"});var ge=Object(ve.b)(),Ee=Object(_e.d)(),Se=function(){var e=Object(fe.a)(he.a.mark((function e(t,r){var a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.a)(ge,t,r);case 2:return a=e.sent,e.abrupt("return",a.user);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),we=function(){var e=Object(fe.a)(he.a.mark((function e(t,r){var a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.c)(ge,t,r);case 2:return a=e.sent,e.abrupt("return",a.user);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Te=function(){return Object(ve.d)(ge)},Re=r(104),ye=Object(Re.a)(a.SET_STATUS,(function(e){return{payload:e}})),ke=Object(Re.a)(n.SET_USER_DATA,(function(e,t,r){return{payload:{email:e,uid:t,isAuth:r}}})),Ce=he.a.mark(Ue),Ae=he.a.mark(Le),Ie=he.a.mark(Me),Ne=he.a.mark(De);function Ue(e){var t,r,n,c,s,i,o;return he.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,r=t.email,n=t.password,u.prev=2,u.next=5,Object(me.c)(ye("loading"));case 5:return u.next=7,Object(me.b)(Se,r,n);case 7:return c=u.sent,s=c.email,i=c.uid,u.next=12,Object(me.c)(ke(s,i,!0));case 12:return u.next=14,Object(me.c)(ye("idle"));case 14:u.next=23;break;case 16:return u.prev=16,u.t0=u.catch(2),u.next=20,Object(me.c)(ye("idle"));case 20:return o=null===u.t0||void 0===u.t0?void 0:u.t0.message,u.next=23,Object(me.c)({type:a.SET_ERROR,errorMessage:o});case 23:case"end":return u.stop()}}),Ce,null,[[2,16]])}function Le(e){var t,r,n,c,s,i,o;return he.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,r=t.email,n=t.password,u.prev=2,u.next=5,Object(me.c)(ye("loading"));case 5:return u.next=7,Object(me.b)(we,r,n);case 7:return c=u.sent,s=c.email,i=c.uid,u.next=12,Object(me.c)(ke(s,i,!0));case 12:return u.next=14,Object(me.c)(ye("idle"));case 14:u.next=23;break;case 16:return u.prev=16,u.t0=u.catch(2),u.next=20,Object(me.c)(ye("idle"));case 20:return o=null===u.t0||void 0===u.t0?void 0:u.t0.message,u.next=23,Object(me.c)({type:a.SET_ERROR,errorMessage:o});case 23:case"end":return u.stop()}}),Ae,null,[[2,16]])}function Me(){var e;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(me.c)(ye("loading"));case 2:return t.prev=2,t.next=5,Object(me.b)(Te);case 5:return t.next=7,Object(me.c)(ke(null,null,!1));case 7:return t.next=9,Object(me.c)(ye("idle"));case 9:t.next=18;break;case 11:return t.prev=11,t.t0=t.catch(2),t.next=15,Object(me.c)(ye("idle"));case 15:return e=null===t.t0||void 0===t.t0?void 0:t.t0.message,t.next=18,Object(me.c)({type:a.SET_ERROR,errorMessage:e});case 18:case"end":return t.stop()}}),Ie,null,[[2,11]])}function De(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.e)(n.REGISTER,Ue);case 2:return e.next=4,Object(me.e)(n.LOGIN,Le);case 4:return e.next=6,Object(me.e)(n.LOG_OUT,Me);case 6:case"end":return e.stop()}}),Ne)}var Ge=function(){var e=Object(fe.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_e.c)(Object(_e.e)(Object(_e.b)(Ee,"artCollection")));case 2:return t=e.sent,e.abrupt("return",t.docs.map((function(e){return e.data().userEmail})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(fe.a)(he.a.mark((function e(t){var r,a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_e.e)(Object(_e.b)(Ee,"artCollection"));case 2:if(r=e.sent,!t){e.next=8;break}return e.next=7,Object(_e.e)(Object(_e.b)(Ee,"artCollection"),Object(_e.f)("userEmail","==",t));case 7:r=e.sent;case 8:return e.next=10,Object(_e.c)(r);case 10:return a=e.sent,e.abrupt("return",a.docs.map((function(e){return{image:e.data().canvasDataUrl}})));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(fe.a)(he.a.mark((function e(t,r,a){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(_e.b)(Ee,"artCollection"),e.next=3,Object(_e.a)(n,{userEmail:t,userId:r,canvasDataUrl:a});case 3:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),Be=he.a.mark(qe),We=he.a.mark(Ve),ze=he.a.mark(Xe),Ze=he.a.mark(Ye);function qe(){var e,t;return he.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(me.c)(ye("loading"));case 3:return r.next=5,Object(me.b)(Ge);case 5:return e=r.sent,r.next=8,Object(me.c)({type:c.SET_USERS_EMAIL,userEmails:e});case 8:return r.next=10,Object(me.c)(ye("idle"));case 10:r.next=19;break;case 12:return r.prev=12,r.t0=r.catch(0),r.next=16,Object(me.c)(ye("idle"));case 16:return t=null===r.t0||void 0===r.t0?void 0:r.t0.message,r.next=19,Object(me.c)({type:a.SET_ERROR,errorMessage:t});case 19:case"end":return r.stop()}}),Be,null,[[0,12]])}function Ve(e){var t,r,n,s;return he.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,r=t.selectedUserEmail,i.prev=2,i.next=5,Object(me.c)(ye("loading"));case 5:return i.next=7,Object(me.b)(Fe,r);case 7:return n=i.sent,i.next=10,Object(me.c)({type:c.SET_IMAGES,arts:n});case 10:return i.next=12,Object(me.c)(ye("idle"));case 12:i.next=21;break;case 14:return i.prev=14,i.t0=i.catch(2),i.next=18,Object(me.c)(ye("idle"));case 18:return s=null===i.t0||void 0===i.t0?void 0:i.t0.message,i.next=21,Object(me.c)({type:a.SET_ERROR,errorMessage:s});case 21:case"end":return i.stop()}}),We,null,[[2,14]])}function Xe(e){var t,r,n,c,s;return he.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,r=t.userEmail,n=t.userId,c=t.canvasDataUrl,i.prev=3,i.next=6,Object(me.c)(ye("loading"));case 6:return i.next=8,Object(me.b)(Pe,r,n,c);case 8:return i.next=10,Object(me.c)(ye("idle"));case 10:i.next=19;break;case 12:return i.prev=12,i.t0=i.catch(3),i.next=16,Object(me.c)(ye("idle"));case 16:return s=null===i.t0||void 0===i.t0?void 0:i.t0.message,i.next=19,Object(me.c)({type:a.SET_ERROR,errorMessage:s});case 19:case"end":return i.stop()}}),ze,null,[[3,12]])}function Ye(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.e)(c.GET_ART,Ve);case 2:return e.next=4,Object(me.e)(c.SAVE_ART,Xe);case 4:return e.next=6,Object(me.e)(c.GET_USER_EMAILS,qe);case 6:case"end":return e.stop()}}),Ze)}var He=he.a.mark(Je);function Je(){var e;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[De,Ye],t.next=3,Object(me.a)(e.map((function(e){return Object(me.d)(e)})));case 3:case"end":return t.stop()}}),He)}var Ke=r(137),Qe=Object(le.a)(),$e=Object(ue.createStore)(Oe,Object(Ke.composeWithDevTools)(Object(ue.applyMiddleware)(Qe)));Qe.run(Je);var et=$e;u.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(m.a,{store:et,children:Object(x.jsx)(oe,{})})}),document.getElementById("root"))},55:function(e,t,r){e.exports={formContainer:"form_formContainer__22Jre",text:"form_text__2sD7c",blockToRegistration:"form_blockToRegistration__3MEWL",regText:"form_regText__18lrv",textField:"form_textField__35rw2",error:"form_error__3RLCe"}},63:function(e,t,r){e.exports={toolbar:"toolbar_toolbar__33LFZ",activeBtn:"toolbar_activeBtn__3MlZv",brush:"toolbar_brush__1sKx5",rect:"toolbar_rect__18kmX",circle:"toolbar_circle__1rueC",eraser:"toolbar_eraser__3KaDL",line:"toolbar_line__Qo7oS",clear:"toolbar_clear__2YYc6",text:"toolbar_text__1ckZ2",colorContainer:"toolbar_colorContainer__2q7FH",lineWidthContainer:"toolbar_lineWidthContainer__2FSMj"}},73:function(e,t,r){e.exports={header:"header_header__19Eyu",menu:"header_menu__nHaMc",active:"header_active__1aOXr",current:"header_current__1_BOk",logOutBtn:"header_logOutBtn__Izf-1"}},82:function(e,t,r){e.exports={mainWrapper:"canvas_mainWrapper__Dd1yP",buttonsContainer:"canvas_buttonsContainer__1BwMk",button:"canvas_button__1jTb3"}}},[[171,1,2]]]);
//# sourceMappingURL=main.5a5db333.chunk.js.map